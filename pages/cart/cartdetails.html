<div class="container">
    <h1 class="page-title" style="padding: 10px;">Shopping Bag</h1>
    <a class="btn btn-default mybtn hidden-lg hidden-sm hidden-md" data-ng-click="vm.checkout()" style="width: 100%;">
        Start Checkout</a>

    <div class="col-sm-12 text-center" data-ng-show="cartItemCount==0">
        <h1>Your shopping cart is empty</h1>
        <a class="btn btn-default mybtn" href="home">Continue Shopping</a>
    </div>
    <div class="col-sm-8" style="padding: 0" data-ng-hide="cartItemCount==0">
        <h3 class="tstyle" style="padding: 10px;">Your items</h3>
        <!--show all items in cart-->
        <div data-ng-repeat="item in vm.cartItems">
            <div class="col-sm-12 col-xs-12" style="border-bottom: 1px #B3AFA8 dotted">
                <div class="col-sm-12"><a class=" col-xs-12" id="delete-{{item.cartItemId}}"
                                          data-ng-click="vm.removeItemFromCart(item);this.disabled=true"><i
                        class="fa fa-trash-o pull-right"
                        style="padding-top: 5px;cursor: pointer;visibility:visible "></i></a>
                </div>
                <div class="col-sm-8 col-xs-12" style="padding-left: 0; padding-top: 10px;padding-right: 0">

                    <div class="col-sm-4 col-xs-4" style="padding-left: 0;padding-bottom: 10px;">

                        <img bn-lazy-src="img/md/{{item.imageHash}}.png" class="img-responsive"
                             style="height: 80px;width: 120px;">
                    </div>
                    <div class="col-sm-8 col-xs-8" style="padding: 0">
                        <div>
                            <div class="col-sm-4 col-xs-4" style="padding: 0">Item:</div>
                            <div class="col-sm-8 col-xs-8 " style="padding: 0"><label>{{item.itemName}}</label></div>
                        </div>
                        <div>
                            <div class="col-sm-4 col-xs-4" style="padding: 0">Chef:</div>
                            <div class="col-sm-8 col-xs-8" style="padding: 0"><label>{{item.chefName}}</label></div>
                        </div>
                        <div class="col-sm-12 col-xs-12" style="padding: 0">
                            <div class="col-sm-4 col-xs-4" style="padding: 0">Quantity:</div>
                            <div class="quantity-btn">
                                <button data-ng-click="vm.minusItemCount($index)" data-ng-disabled="item.quantity<=1">-
                                </button>
                                <input type="text" class="text-change-qty-search-popup" autocomplete="off" value="1"
                                       data-ng-model="item.quantity" readonly>
                                <button data-ng-click="vm.plusItemCount($index)" data-ng-disabled="item.quantity>=5">+
                                </button>
                            </div>
                        </div>
                        <div class="hidden-md hidden-lg hidden-sm col-xs-12" style="padding-left: 0">
                            <div class=" col-xs-4" style="padding:0px">Price:</div>
                            <div class=" col-xs-8" style="padding-left: 0;padding-top: 5px;">
                                <label><i class="fa fa-inr"></i> {{item.price}}</label>

                            </div>
                        </div>
                        <div class="hidden-md hidden-lg hidden-sm col-xs-12" style="padding-left: 0">
                            <div class=" col-xs-4" style="padding-left:0; padding-bottom: 10px;">Weight:</div>
                            <div class=" col-xs-8" style="padding-left: 0;"><label> {{item.weight}}</label></div>
                        </div>
                        <div class="hidden-md hidden-lg hidden-sm col-xs-12" style="padding: 0">
                            <div class=" col-xs-4" style="padding-left:0; padding-bottom: 10px;">Total:</div>
                            <div class=" col-xs-8" style="padding-left: 0;">
                                <label><i class="fa fa-inr"></i> {{item.price * item.quantity}}</label>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-sm-4 hidden-xs" style="padding-top: 10px;padding-right: 15px;">
                    <div>
                        <div class="col-sm-12 paddingClass" style="padding-left: 0;padding-right: 0">
                            <div class="col-sm-4 paddingClass">Price:</div>
                            <div class="col-sm-8"><label><i class="fa fa-inr"></i> {{item.price}} </label>
                            </div>
                        </div>
                        <div class="col-sm-12 paddingClass">
                            <div class="col-sm-4 paddingClass">Weight:</div>
                            <div class="col-sm-8">
                                <label>{{item.weight}}</label>
                            </div>
                        </div>
                        <div class="col-sm-12 paddingClass">
                            <div class="col-sm-4 paddingClass">Total:</div>
                            <div class="col-sm-8">
                                <label><i class="fa fa-inr"></i> {{item.price*item.quantity}} </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-sm-4 col-xs-12 order-outer" data-ng-hide="cartItemCount==0" style="padding-right: 0">
        <h3 class="tstyle col-sm-12 col-xs-12" style="padding: 10px;">Order totals</h3>

        <div class="col-sm-12 col-xs-12 tstyle" style="font-size: 14px !important; padding: 20px;">
            <div class="col-sm-12 col-xs-12" style="padding-left: 0; padding-top: 10px;">
                <div class="col-sm-12 col-xs-12" style="padding: 0">Merchandise <label class="pull-right"><i
                        class="fa fa-inr"></i> {{vm.cartItemTotal}}</label></div>
            </div>
            <div class="col-sm-12"
                 style="padding-left: 0px; padding-top:10px;
                 padding-bottom:10px;border-bottom: 1px #B3AFA8 solid">
                <div class="col-sm-12" style="padding: 0">Shipping <label class="pull-right"><i
                        class="fa fa-inr"></i> {{vm.shippingCost}}</label></div>
            </div>
            <div class="col-sm-12" data-ng-hide="vm.coupon['discount']==undefined"
                 style="padding-left: 0px; padding-top:10px;
                 padding-bottom:10px;border-bottom: 1px #B3AFA8 solid">
                <div class="col-sm-12" style="padding: 0">Coupon Discount <label class="pull-right"><i
                        class="fa fa-inr"></i> {{vm.coupon.discount}}</label></div>
            </div>
            <div class="col-sm-12" style="padding-left: 0; padding-top: 10px;;">
                <div class="col-sm-12" style="padding: 0">Total <label class="pull-right"><i
                        class="fa fa-inr"></i> {{vm.cartItemTotal+vm.shippingCost-vm.coupon['discount']}}
                </label></div>
            </div>
            <div class="col-sm-12" style="padding-left:0;padding-top: 20px;">
                <a class="btn btn-default mybtn" data-ng-click="vm.checkout()" style="width: 100%;"> Start Checkout</a>
            </div>
        </div>
        <div class="col-sm-12 tstyle col-xs-12"
             style="font-size: 14px !important; padding: 10px; margin-top: 10px; margin-bottom: 10px;">
            <div class="col-sm-12 col-xs-12" style="padding-left: 0; padding-top: 10px; "
                 data-ng-hide="vm.showAppliedCouponEditor">
                <a data-ng-click="vm.showCouponEditor=!vm.showCouponEditor"
                   style="cursor:pointer; text-decoration: none; color: #101010"><i class="fa fa-plus"></i> Coupon</a>

                <div class="row" style="padding: 10px;" data-ng-show="vm.showCouponEditor">
                    <div class="col-sm-12 col-xs-12" style="padding: 0">
                        <div class="hidden-panel" id="coupon">
                            <form name="form" role="form" method="post">
                                <div class="form-group"
                                     ng-class="{'has-error': form.code.$dirty && form.code.$error.required}">
                                    <label class="sr-only" for="code">Enter coupon code</label>
                                    <input type="text" class="form-control col-xs-12" id="code" name="code"
                                           autocomplete="off"
                                           placeholder="Enter coupon code" required="" data-ng-model="vm.couponCode">
                                    <span ng-show="form.code.$dirty && form.code.$error.required" class="help-block">Coupon code is required</span>
                                </div>
                                <input class="btn btn-default mybtn" type="submit" name="apply-coupon"
                                       value="Apply Coupon" data-ng-click="vm.applyCoupon();form.$setPristine()"
                                       data-ng-disabled="form.$invalid;" style="margin-top: 5px;">

                            </form>
                            <p style="color: darkred;margin-top: 10px">{{vm.discountData['message']}}</p>
                        </div>

                    </div>
                </div>

            </div>
            <div class="col-sm-12" style="padding-left: 0" class="hidden-panel" id="appliedCoupon"
                 data-ng-show="vm.showAppliedCouponEditor">
                <span style="cursor:pointer; text-decoration: none; color: green">
                    <i class="col-sm-12"></i> Coupon Applied
                </span>

                <div class="col-sm-12" style="padding-top: 10px;padding-left: 0">
                    <div class="pull-left">
                        <span style="color: darkgreen;margin-top: 10px">{{vm.coupon['couponCode']}}</span>
                    </div>
                    <div class="pull-right">
                        <a data-ng-click="vm.cancelCoupon()"
                           style="cursor:pointer; text-decoration: none; color: #101010">
                            <i class="fa fa-minus-circle"></i> Remove
                        </a>
                    </div>
                </div>

            </div>
        </div>
        <div data-ng-hide="vm.isGiftMessageAdded" class="col-sm-12 tstyle col-xs-12"
             style="font-size: 14px !important; padding-left: 0; margin-bottom: 10px;">
            <div class="col-xs-12 col-sm-12 checkbox" style="margin-bottom: 10px;">
                <label>
                    <input type="checkbox" data-ng-change="vm.enableMsgEditor()" data-ng-model="vm.checkbox"> Is this
                    gift?
                </label></div>
            <div class="col-sm-12 col-xs-12" data-ng-show="vm.showMessageEditor"
                 style="margin-top: 0;margin-bottom: 10px;">
                <form name="giftForm" role="form" method="post" class="ng-pristine ng-invalid ng-invalid-required">
                    <div class="form-group"
                         ng-class="{'has-error': form.code.$dirty &amp;&amp; form.code.$error.required}">

                        <input type="text"
                               class="form-control col-xs-12 ng-pristine ng-untouched ng-invalid ng-invalid-required"
                               id="message" name="code" autocomplete="off" placeholder="Enter your message" required=""
                               data-ng-model="vm.giftMessage" maxlength="120">
                        <span ng-show="giftForm.code.$dirty &amp;&amp; giftForm.code.$error.required"
                              class="help-block ng-hide">Message is required</span>
                    </div>
                    <input class="btn btn-default mybtn" type="submit" name="apply-coupon" value="Save"
                           data-ng-click="vm.saveMessage();giftForm.$setPristine()" data-ng-disabled="giftForm.$invalid;"
                           style="margin-top: 5px;">

                </form>
            </div>
        </div>
        <div class="col-sm-12 tstyle" style="margin-bottom: 5px;font-size: 14px;" data-ng-show="vm.isGiftMessageAdded">
            <div>
                <div class="col-xs-6 col-sm-6 pull-left" style="margin-bottom: 5px;margin-top: 5px;padding-left: 0">
                    <b> Your Message</b>
                </div>
                <div class="col-sm-6 col-xs-6 pull-right" style="margin-top: 10px;">
                    <i class="fa fa-trash-o pull-right" data-ng-click="vm.removeMessage()"></i>
                    <i class="fa fa-edit pull-right" style="margin-right: 5px;" data-ng-click="vm.editMessage()"></i>
                </div>
            </div>
            <div class="col-sm-12 col-xs-12" data-ng-show="vm.showMessageEditor"
                 style="margin-top: 0;margin-bottom: 10px;padding-left: 0">
                <span ng-bind="vm.giftMessage"></span>
            </div>
        </div>
    </div>
    <div class="push"></div>
</div>